/* =========================================================
   Colorful, eye-pleasing theme (dark + optional light mode)
   Keeps your existing layout & class names intact.
   To enable light mode: <body class="theme-light">
   ========================================================= */

:root{
  /* Dark theme (default) */
  --bg:#12162a;          /* softer than pure black => less eye stress */
  --card:#1a2140;        /* surface */
  --ink:#f2f5ff;         /* main text */
  --muted:#b6c0e3;       /* secondary text */
  --line:#2c3462;        /* separators */

  /* Accents */
  --accent:#79a8ff;      /* primary action (blue) */
  --accent-2:#8be0c1;    /* mint */
  --accent-3:#f6b17a;    /* peach/orange (for highlights) */
  --accent-4:#c59cff;    /* purple (secondary) */

  /* Status */
  --ok:#43d39e;
  --warn:#ffd166;
  --bad:#ff6b6b;

  /* Effects */
  --shadow: 0 6px 24px rgba(9,10,20,.25);
  --radius: 14px;
  --radius-sm: 10px;
  --chip: #22305a;
}

/* ---------- Optional LIGHT MODE ---------- */
.theme-light{
  --bg:#f7f9ff;
  --card:#ffffff;
  --ink:#0c1533;
  --muted:#5b6a99;
  --line:#dfe5ff;

  --accent:#3b7cff;
  --accent-2:#00c29a;
  --accent-3:#ff9b63;
  --accent-4:#7b61ff;

  --ok:#16b77e;
  --warn:#e4a500;
  --bad:#e55656;

  --shadow: 0 8px 24px rgba(9,14,40,.08);
  --chip:#eef3ff;
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  line-height:1.55;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* ---------- Header/Footer ---------- */
header,footer{
  padding:12px 16px; display:flex; align-items:center; gap:12px; flex-wrap:wrap
}
header{
  background: linear-gradient(90deg, rgba(121,168,255,.18), rgba(197,156,255,.12) 40%, transparent);
  border-bottom:1px solid var(--line);
}
footer{justify-content:space-between; color:var(--muted); border-top:1px solid var(--line)}
header h1{margin:0; font-size:18px; font-weight:700}
.wrap{max-width:1100px; margin:0 auto; padding:12px}

/* ---------- Controls ---------- */
.controls{
  display:grid;
  /* search, body, level, region, localType, window, buttons */
  grid-template-columns: 1fr 150px 160px 160px 170px 150px auto;
  gap:10px; align-items:center;
  margin-top:6px;
}
@media (max-width:1000px){ .controls{ grid-template-columns: 1fr 1fr 1fr } }

input[type="search"], select{
  width:100%; padding:10px 12px; border-radius:var(--radius-sm);
  border:1px solid var(--line);
  background:var(--card); color:var(--ink); outline:none;
  transition: border-color .15s ease, box-shadow .15s ease, background .2s ease;
}
input[type="search"]::placeholder{color:color-mix(in oklab, var(--muted) 70%, transparent)}
input[type="search"]:focus, select:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 3px color-mix(in oklab, var(--accent) 35%, transparent);
}

.btn-row{display:flex; gap:8px; justify-content:flex-end; flex-wrap:wrap}

.btn{
  appearance:none; border:none; padding:10px 12px; border-radius:var(--radius-sm);
  cursor:pointer; font-weight:700; letter-spacing:.2px;
  background:var(--accent); color:#0b1222; box-shadow:0 0 0 1px #0003, var(--shadow);
  transition: transform .06s ease, filter .2s ease, box-shadow .2s ease, background .2s ease;
}
.btn:hover{ filter:brightness(1.05) }
.btn:active{ transform: translateY(1px) }
.btn.ghost{
  background:transparent; color:var(--ink); border:1px solid var(--line); box-shadow:none;
}
.btn.ghost:hover{ border-color:var(--accent); color:var(--accent) }
.btn.filelike{position:relative}
.btn.filelike input{position:absolute; inset:0; opacity:0; cursor:pointer}

/* ---------- Chips / Badges ---------- */
.badge{
  display:inline-block; padding:4px 9px; border-radius:999px; font-size:12px;
  background:var(--chip); color:var(--muted); border:1px solid var(--line)
}
.badge.good{ background: color-mix(in oklab, var(--ok) 20%, var(--chip)); color:#042; border-color: color-mix(in oklab, var(--ok) 45%, var(--line)); }
.badge.warn{ background: color-mix(in oklab, var(--warn) 18%, var(--chip)); color:#402; border-color: color-mix(in oklab, var(--warn) 45%, var(--line)); }
.badge.bad{  background: color-mix(in oklab, var(--bad) 18%, var(--chip));  color:#420; border-color: color-mix(in oklab, var(--bad) 45%, var(--line)); }

/* ---------- Groups / Tables ---------- */
.group{
  margin-top:18px; border-radius:var(--radius); overflow:hidden; border:1px solid var(--line);
  background:var(--card); box-shadow: var(--shadow);
}

/* Alternating colorful headers for bodies (pleasant variety) */
.group>h2{
  --hbg: linear-gradient(90deg, color-mix(in oklab, var(--accent-2) 28%, transparent),
                                color-mix(in oklab, var(--accent-4) 24%, transparent));
  margin:0; padding:12px 16px; background:var(--hbg); color:#eaf2ff; font-size:14px; letter-spacing:.2px;
  display:flex; align-items:center; gap:8px; justify-content:space-between;
  border-bottom:1px solid var(--line);
}
.group:nth-of-type(3n)>h2{ --hbg: linear-gradient(90deg, color-mix(in oklab, var(--accent) 30%, transparent),
                                                        color-mix(in oklab, var(--accent-3) 24%, transparent)); }
.group:nth-of-type(3n+1)>h2{ --hbg: linear-gradient(90deg, color-mix(in oklab, var(--accent-4) 28%, transparent),
                                                          color-mix(in oklab, var(--accent-2) 24%, transparent)); }

.table{width:100%; border-collapse:separate; border-spacing:0}
.table th, .table td{
  padding:12px 14px; text-align:left; border-bottom:1px solid var(--line)
}
.table thead th{
  font-size:12px; color:var(--muted);
  background: color-mix(in oklab, var(--card) 70%, var(--bg));
  position:sticky; top:0; z-index:1;
}
.table tbody tr:hover td{
  background: color-mix(in oklab, var(--accent) 8%, transparent);
}

/* Row actions */
.row-actions a, .row-actions button{
  margin-right:8px; text-decoration:none; font-size:12px; padding:7px 10px; border-radius:9px;
  border:1px solid var(--line);
  background: color-mix(in oklab, var(--card) 82%, var(--bg));
  color:var(--ink); display:inline-flex; align-items:center; gap:6px; cursor:pointer;
  transition: border-color .15s ease, background .2s ease, color .2s ease;
}
.row-actions a:hover, .row-actions button:hover{
  border-color: var(--accent);
  background: color-mix(in oklab, var(--accent) 18%, var(--card));
  color:#07142b;
}

/* Key/value & misc */
.kv{display:inline-flex; gap:4px; align-items:center}
kbd{
  background:#000; color:#fff; padding:2px 6px; border-radius:6px; border:1px solid #333; font-size:12px
}
hr.sep{border:0; border-top:1px dashed var(--line); margin:14px 0}

/* ---------- Dialog ---------- */
dialog{
  border:1px solid var(--line); border-radius:12px; background:var(--card); color:var(--ink);
  width:min(680px, 92vw); padding:0; box-shadow: var(--shadow);
}
dialog header{padding:12px 14px; border-bottom:1px solid var(--line);
  background: linear-gradient(90deg, color-mix(in oklab, var(--accent-4) 22%, transparent),
                                    color-mix(in oklab, var(--accent) 18%, transparent));
}
dialog form{padding:12px 14px; display:grid; grid-template-columns: 1fr 1fr; gap:10px}
dialog form .full{grid-column:1/-1}
dialog label{font-size:12px; color:var(--muted)}
dialog input, dialog select, dialog textarea{
  width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--line);
  background: color-mix(in oklab, var(--card) 80%, var(--bg));
  color:var(--ink); outline:none;
  transition: border-color .15s ease, box-shadow .15s ease;
}
dialog input:focus, dialog select:focus, dialog textarea:focus{
  border-color: var(--accent);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 30%, transparent);
}
dialog .inline{display:flex; gap:8px}
dialog .actions{display:flex; justify-content:flex-end; gap:10px; padding:12px 14px; border-top:1px solid var(--line)}

/* ---------- Empty state & small text ---------- */
.empty{
  padding:22px; color:var(--muted); font-size:14px; border:1px dashed var(--line);
  background: color-mix(in oklab, var(--card) 85%, var(--bg)); border-radius:var(--radius)
}
.small{font-size:12px; color:var(--muted)}

/* ---------- Status text helpers (legacy hooks) ---------- */
.warn{color:var(--warn)}
.bad{color:var(--bad)}
